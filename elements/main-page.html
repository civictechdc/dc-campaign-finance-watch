<link rel="import" href="../bower_components/polymer/polymer.html">
<polymer-element name="main-page">

  <template>

    <core-scaffold theme="core-light-theme">
        <core-header-panel navigation flex mode="seamed" theme="core-light-theme">
            <core-toolbar theme="core-dark-theme"></core-toolbar>
            <core-menu selected="{{selected}}" valueattr="id" theme="core-light-theme">
                <core-item icon="visibility" id="grassrootdonors" label="grassroot donors"></core-item>
                <core-item icon="visibility" id="grassrootdollars" label="grassroot dollars"></core-item>
                <core-item icon="visibility" id="corporatedonors" label="corporate donors"></core-item>
                <core-item icon="visibility" id="corporatedollars" label="corporate dollars"></core-item>
                <core-item icon="visibility" id="paytoplay" label="pay-to-play"></core-item>
                <core-item icon="visibility" id="industryinfluence" label="influential industries"></core-item>
                <core-item icon="visibility" id="officeholders" label="office holders"></core-item>
                <core-item icon="info-outline" id="about" label="about"></core-item>
                <core-submenu>
                  <!--<list-of-offices source="json/years and offices.json"></list-of-offices>-->
                </core-submenu>
            </core-menu>
        </core-header-panel>
        <div tool>DC Campaign Finance Watch</div>
        <core-pages selected="{{selected}}" valueattr="id">
          <div id="grassrootdonors"><bar-charts source="json/grassroot-donors.json"></bar-charts></div>
          <div id="grassrootdollars"><bar-charts source="json/grassroot-dollars.json"></bar-charts></div>
          <div id="corporatedonors"><bar-charts source="json/corporate-donors.json"></bar-charts></div>
          <div id="corporatedollars"><bar-charts source="json/corporate-dollars.json"></bar-charts></div>
          <div id="paytoplay">These analyses will link campaign contributions to District contracts.  The cash paid to office holdersâ€™ campaigns will be linked to past, existing, and pending contracts with the city. </div>
          <div id="industryinfluence">Using NIGP codes and all available online data, we will link donors with specific industries. We can then sort each candidate and political office-holder by level of industry influence and relate them to upcoming bills.   </div>
          <div id="officeholders">A moving average of corporate capture & grass roots support for each current officeholder. Will span available data.</div>
          <div id="about">We are just regular folk coding for DC.  Come to a <a href="http://www.meetup.com/Code-for-DC/">meetup</a> or <a href="https://github.com/codefordc/dc-campaign-finance-watch">check out a repo on github</a>!</div>
        </core-pages>
  </template>

  <script>
    Polymer('main-page', {
      ready: function() {
        window.onhashchange = function() {
          var page = window.location.hash.substring(1);
          this.selected = page;
        }.bind(this);
        this.selected = 'grassrootdonors';
      },
      selectedChanged: function() {
        window.location.hash = this.selected;
      }
    });
  </script>

</polymer-element>
